{"options":{"validator":{"$jsonSchema":{"bsonType":"object","required":["company","name","destination","startDate","endDate","price"],"properties":{"company":{"bsonType":"object","required":["name","email"],"properties":{"name":{"bsonType":"string"},"address":{"bsonType":"object","properties":{"street":{"bsonType":"string"},"city":{"bsonType":"string"},"postalCode":{"bsonType":"string"},"country":{"bsonType":"string"}}},"phone":{"bsonType":"string"},"email":{"bsonType":"string","pattern":"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$"}}},"name":{"bsonType":"string"},"description":{"bsonType":"string"},"destination":{"bsonType":"string"},"startDate":{"bsonType":"date"},"endDate":{"bsonType":"date"},"price":{"bsonType":"decimal"},"maxParticipants":{"bsonType":"int","minimum":{"$numberInt":"1"}},"availableSpots":{"bsonType":"int","minimum":{"$numberInt":"0"}},"bookings":{"bsonType":"array","items":{"bsonType":"object","required":["userId","user","bookingDate","status","noParticipants","totalPrice"],"properties":{"userId":{"bsonType":"objectId"},"user":{"bsonType":"object","required":["firstName","lastName","email"],"properties":{"firstName":{"bsonType":"string"},"lastName":{"bsonType":"string"},"email":{"bsonType":"string"},"phone":{"bsonType":"string"},"dateOfBirth":{"bsonType":"date"}}},"bookingDate":{"bsonType":"date"},"status":{"bsonType":"string","enum":["confirmed and paid","cancelled","new"]},"noParticipants":{"bsonType":"int","minimum":{"$numberInt":"1"}},"totalPrice":{"bsonType":"decimal"},"createdAt":{"bsonType":"date"},"updatedAt":{"bsonType":"date"}}}},"ratings":{"bsonType":"array","items":{"bsonType":"object","required":["userId","user","rating"],"properties":{"userId":{"bsonType":"objectId"},"user":{"bsonType":"object","properties":{"firstName":{"bsonType":"string"},"lastName":{"bsonType":"string"}}},"rating":{"bsonType":"int","minimum":{"$numberInt":"1"},"maximum":{"$numberInt":"5"}},"comment":{"bsonType":"string"}}}}}}}},"indexes":[{"v":{"$numberInt":"2"},"key":{"_id":{"$numberInt":"1"}},"name":"_id_"},{"v":{"$numberInt":"2"},"key":{"company.name":{"$numberInt":"1"}},"name":"company.name_1"},{"v":{"$numberInt":"2"},"key":{"destination":{"$numberInt":"1"}},"name":"destination_1"},{"v":{"$numberInt":"2"},"key":{"startDate":{"$numberInt":"1"},"endDate":{"$numberInt":"1"}},"name":"startDate_1_endDate_1"},{"v":{"$numberInt":"2"},"key":{"bookings.userId":{"$numberInt":"1"}},"name":"bookings.userId_1"},{"v":{"$numberInt":"2"},"key":{"ratings.userId":{"$numberInt":"1"}},"name":"ratings.userId_1"}],"uuid":"2df5b5448d914f20a9939472848695fd","collectionName":"trips","type":"collection"}